import{_ as i,c as a,o as e,ag as t}from"./chunks/framework.DPUu0VjW.js";const d=JSON.parse('{"title":"消息段","description":"","frontmatter":{},"headers":[],"relativePath":"segment/index.md","filePath":"segment/index.md","lastUpdated":1766992468000}'),n={name:"segment/index.md"};function l(h,s,r,k,p,g){return e(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="消息段" tabindex="-1">消息段 <a class="header-anchor" href="#消息段" aria-label="Permalink to &quot;消息段&quot;">​</a></h1><blockquote><p>该理念来自于 icqq</p></blockquote><p>消息段固定格式 { type: 消息段类型, data: 消息段数据 }</p><ul><li>在使用 <strong>icqq</strong> 的时候，发送消息时，你可以直接发送 <strong>string</strong> 类型的消息，也可以发送指定类型的 <strong>segment</strong>，也可以发送包含 <strong>string</strong> 或 <strong>segment</strong> 的数组</li><li>在 <strong>kook-client</strong> 中，我们重新定义了 <strong>Sendable</strong> 的约束范围，使得其能获得正确的类型提示</li></ul><h2 id="sendable" tabindex="-1">Sendable <a class="header-anchor" href="#sendable" aria-label="Permalink to &quot;Sendable&quot;">​</a></h2><p><strong>kook-client</strong> 中 <strong>Sendable</strong> 定义如下：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 重复组合的消息元素</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MessageSegment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AtSegment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TextSegment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ImageSegment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MarkdownSegment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ReplySegment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FileSegment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CardSegment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VideoSegment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AudioSegment</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Sendable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MessageSegment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MessageSegment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><ul><li>其中将 <strong>segment</strong> 分为 <strong>可重复消息段</strong>(RepeatableCombineElem)、<strong>不可重复消息段</strong> 和 <a href="./reply.html">回复(ReplyElem)</a>；</li></ul><h2 id="组合规则" tabindex="-1">组合规则 <a class="header-anchor" href="#组合规则" aria-label="Permalink to &quot;组合规则&quot;">​</a></h2><ol><li><strong>可重复消息段</strong> 包括：<a href="./text.html">文本(TextElem)</a>、<a href="./face.html">表情(FaceElem)</a>、<a href="./at.html">@(ATElem)</a>、<a href="./button.html">链接(LinkElem)</a>、<a href="./button.html">按钮(TextElem)</a></li><li><strong>不可重复消息段</strong> 包括：<a href="./image.html">图片(ImageElem)</a>、<a href="./video.html">视频(VideoElem)</a>、<a href="./audio.html">音频(AudioElem)</a>、<a href="./markdown.html">Markdown(MDElem)</a>、<a href="./ark.html">Ark(ArkElem)</a>、<a href="./embed.html">Embed(EmbedElem)</a></li><li><a href="./reply.html">回复(ReplyElem)</a> 只能和其他类型的消息段一起使用</li><li><strong>可重复消息段</strong> 和 <strong>不可重复消息段</strong> 可以单独发送，也可以携带一个 <a href="./reply.html">回复(ReplyElem)</a></li></ol><ul><li>注意，由于官方尚未支持图文混排，后续支持后，<a href="./image.html">图片(ImageElem)</a>将会移动到 <strong>可重复消息段</strong></li></ul>`,11)])])}const m=i(n,[["render",l]]);export{d as __pageData,m as default};
